---
title: 函数式编程
date: 2022-05-12
cover: false
description: 是什么，概念，优缺点
---

## 理解
- 函数式编程是“编程范式”的一种编写程序方法论
- 常见的编程范式：命令式编程，声明式编程和函数式编程
- 区别: 相比于命令式编程，函数式编程`更加强调程序执行的结果`而非执行的过程，倡导利用若干简单的执行单元让计算结果不断渐进，逐层推导复杂的运算，而非设计一个复杂的执行过程<br />
距离：
```js
//命令式编程
var array = [0, 1, 2, 3]
for(let i=0; i<array.length; i++) {
    arr[i] = Math.pow(array[i], 2)
}

//函数式编程: 把逻辑写成函数，定义好输入参数，只关心输出结果
[0, 1, 2, 3].map(num => Math.pow(num, 2))
```
## 纯函数

## 柯里化
- 把一个多参数转化为一个嵌套的一元函数的过程
- 意义：让纯函数更纯，每次接收一个参数，惰性执行
```js
// 普通二元函数
let fn = (x, y) => x+y;

//转化为柯里化函数后
const curry = function(fn) {
    return function(x) {
        return function(y) {
            return fn(x, y);
        }
    }
}
let myfn = curry(fn)
console.log(myfn(1)(2));

//多参数柯里化
const curry = function(fn) {
    return function curriedFn(...args) {
        if(args.length < fn.length) {
            return function() {
                return curriedFn(...args.concat[...arguments])
            }
        }
        return fn(...args);
    }
}
```

## 高阶函数

## 组合与管道

## 优缺点
> 优点
1. 更好的管理状态：无状态或更少状态的宗旨，能最大化减少未知，优化代码，减少出错的情况
2. 更简单的复用：固定输入->固定输出，没有其他外部变量影响，并且无副作用。这样代码复用时, 完全不需要考虑它的内部实现和外部影响
3. 更优雅的组合：往大的说，网页是由各个组件组成的；往小的说，一个函数可能是由多个小函数组成的。更强的复用性带来更强大的组合
4. 减少代码量，提高可维护性

> 缺点
1. 性能：会对一个方法过度包装，产生上下文切换的性能开销
2. 资源占用：在JS中为了实现对象状态的不可变，往往会创建新的对象，因此，对垃圾回收所产生的压力远远超过其他编程方式
3. 递归陷阱：在函数式编程中，为了实现迭代，会采用递归操作